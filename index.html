<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="assets/CSS/style.css">
    <title>Crystal Collector</title>

</head>

<body>

    <h1>I see a number: <span id="number-to-guess"></span></h1>

    <!-- div is empty, to be filled dynamically -->
    <div id="crystals">
    </div>

    <!-- js -->
    <!-- ===== -->

    <script type="text/javascript">

        var targetNumber = [];

        var counter = 0;

        var numberOptions = [10, 5, 3, 7];

        function randNumber() { }
        

        for (var i = 0; i < numberOptions.length; i++) {

            // for each iteration, create imageCrystal
            var imageCrystal = $("<img>");

            // first, each crystal will be given class ".crystal-image". allows css to take effect
            imageCrystal.addClass("crystal-image");

            // each imageCrystal will be given src link to crystal image
            imageCrystal.attr("src", "assets/images/rainbowquartz.jpg");

            // each imageCrystal will be given data attribute called data-crystalValue. set equal to array value
            imageCrystal.attr("data-crystalValue", numberOptions[i]);

            // each crystal image (with all classes and attributes) will be added to page
            $("#crystals").append(imageCrystal);
        }


        function clear() {
            $("#targetNumber").empty();
            $("#number-to-guess").empty();
            targetNumber = [];
        }

        function reset() {
            clear();
            randNumber();
            counter();
        }

        $(".crystal-image").on("click", function () {

            var crystalValue = ($(this).attr("data-crystalValue"));
            crystalValue = parseInt(crystalValue);

            // then add crystalValue to users counter (global variable)
            // every click from crystal adds to global counter
            counter += crystalValue;

            // all of same game win-lose logic applies
            alert("New score: " + counter);

            if (counter === targetNumber) {
                alert("You win!");
                reset();
            }

            else if (counter >= targetNumber) {
                alert("You lose!!");
                reset();
            }
        });

    </script>
</body>

</html>